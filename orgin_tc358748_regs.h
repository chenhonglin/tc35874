/* SPDX-License-Identifier: GPL-2.0-only */
/*
 * tc358746 - Toshiba Parallel to CSI-2 bridge - register names and bit masks
 *
 * Convention:
 * <REGISTER>
 * <REGISTER>_<BITFIELD>_MASK
 * <REGISTER>_<BITFIELD>_<VALUE>
 * <REGISTER>_<BITFIELD>_SET(val = <REGISTER>_<BITFIELD>_<VALUE>)
 *
 * References:
 * REF_01:
 * - TC358746AXBG/TC358748XBG/TC358748IXBG Functional Specification Rev 1.2
 */

#ifndef __TC358746_REGS_H
#define __TC358746_REGS_H

#define CHIPID			0x0000
#define CHIPID_CHIPID_MASK		0xff00
#define CHIPID_REVID_MASK		0x00ff

#define SYSCTL			0x0002
#define SYSCTL_SLEEP_MASK		0x0001
#define SYSCTL_SRESET_MASK		0x0000

#define CONFCTL                 0x0004
#define CONFCTL_TRIEN_MASK		0x8000
#define CONFCTL_INTE2N_MASK		0x2000
#define CONFCTL_BT656EN_MASK		0x1000
#define CONFCTL_PDATAF_MASK		0x0300
#define CONFCTL_PDATAF_SET(val)		(((val << 8) & CONFCTL_PDATAF_MASK))
#define CONFCTL_PDATAF_MODE0		0
#define CONFCTL_PDATAF_MODE1		1
#define CONFCTL_PDATAF_MODE2		2
#define CONFCTL_PPEN_MASK		0x0040
#define CONFCTL_VVALIDP_MASK		0x0020
#define CONFCTL_HVALIDP_MASK		0x0010
#define CONFCTL_PCLKP_MASK		0x0008
#define CONFCTL_AUTO_MASK		0x0004
#define CONFCTL_DATALANE_MASK		0x0003
#define CONFCTL_DATALANE_1		0x0000
#define CONFCTL_DATALANE_2		0x0001
#define CONFCTL_DATALANE_3		0x0002
#define CONFCTL_DATALANE_4		0x0003

#define FIFOCTL			0x0006
#define DATAFMT			0x0008
#define DATAFMT_PDFMT_RAW8		0x0000
#define DATAFMT_PDFMT_RAW10		0x0010
#define DATAFMT_PDFMT_RAW12		0x0020
#define DATAFMT_PDFMT_RGB888		0x0030
#define DATAFMT_PDFMT_RGB666		0x0040
#define DATAFMT_PDFMT_RGB565		0x0050
#define DATAFMT_PDFMT_YCBCRFMT_422_8_BIT 0x0060
#define DATAFMT_PDFMT_RAW14		0x0080
#define DATAFMT_PDFMT_YCBCRFMT_422_10_BIT 0x0090
#define DATAFMT_PDFMT_YCBCRFMT_444	0x00a0
#define DATAFMT_PDFMT_MASK		0x00f0
#define DATAFMT_PDFMT_SET(val)		(((val) << 4) & DATAFMT_PDFMT_MASK)
#define DATAFMT_UDT_EN_MASK		0x0001

#define MCLKCTL			0x000c
#define MCLKCTL_MCLK_HIGH_MASK		0xff00
#define MCLKCTL_MCLK_HIGH_SET(val)	((((val) - 1) << 8) & MCLKCTL_MCLK_HIGH_MASK)
#define MCLKCTL_MCLK_LOW_MASK		0x00ff
#define MCLKCTL_MCLK_LOW_SET(val)	(((val) - 1) & MCLKCTL_MCLK_LOW_MASK)

#define PLLCTL0			0x0016
#define PLLCTL0_PLL_PRD_MASK		0xf000
#define PLLCTL0_PLL_PRD_SET(prd)	((((prd) - 1) << 12) & PLLCTL0_PLL_PRD_MASK)
#define PLLCTL0_PLL_FBD_MASK		0x00ff
#define PLLCTL0_PLL_FBD_SET(fbd)        (((fbd) - 1) & PLLCTL0_PLL_FBD_MASK)

#define PLLCTL1                 0x0018
#define PLLCTL1_PLL_FRS_MASK            0x0c00
#define PLLCTL1_PLL_FRS_SET(frs)        (((frs) << 10) & PLLCTL1_PLL_FRS_MASK)
#define PLLCTL1_PLL_LBWS_MASK		0x0300
#define PLLCTL1_LFBREN_MASK		0x0040
#define PLLCTL1_BYPCKEN_MASK		0x0020
#define PLLCTL1_CKEN_MASK		0x0010
#define PLLCTL1_RESETB_MASK		0x0002
#define PLLCTL1_PLL_EN_MASK		0x0001

#define CLKCTL			0x0020
#define CLKCTL_MCLKDIV_MASK		0x000c
#define CLKCTL_MCLKDIV_SET(val)		((val << 2) & CLKCTL_MCLKDIV_MASK)
#define CLKCTL_MCLKDIV_8		0x0000
#define CLKCTL_MCLKDIV_4		0x0004
#define CLKCTL_MCLKDIV_2		0x0008

#define WORDCNT			0x0022
#define PP_MISC                 0x0032
#define PP_MISC_FRMSTOP_MASK		0x8000
#define PP_MISC_RSTPTR_MASK		0x4000

#define CSI2TX_DATA_TYPE	0x0050
#define MIPI_PHY_STATUS		0x0062
#define CSI2_ERROR_STATUS       0x0064
#define CSI2_ERR_EN             0x0066
#define CSI2_IDID_ERROR         0x006c
#define DBG_ACT_LINE_CNT        0x00e0
#define DBG_LINE_WIDTH		0x00e2
#define DBG_VERT_BLANK_LINE_CNT	0x00e4
#define DBG_VIDEO_DATA          0x00e8
#define FIFOSTATUS              0x00F8

#define CLW_CNTRL               0x0140
#define CLW_CNTRL_CLW_LANEDISABLE_MASK	0x0001

#define D0W_CNTRL               0x0144
#define D0W_CNTRL_D0W_LANEDISABLE_MASK	0x0001

#define D1W_CNTRL		0x0148
#define D1W_CNTRL_D1W_LANEDISABLE_MASK	0x0001

#define D2W_CNTRL		0x014C
#define D2W_CNTRL_D2W_LANEDISABLE_MASK	0x0001

#define D3W_CNTRL		0x0150
#define D2W_CNTRL_D3W_LANEDISABLE_MASK	0x0001

#define STARTCNTRL              0x0204
#define STARTCNTRL_START_MASK		0x0001

#define LINEINITCNT		0x0210
#define LPTXTIMECNT		0x0214
#define TCLK_HEADERCNT		0x0218
#define	TCLK_HEADERCNT_TCLK_ZEROCNT_MASK	0xff00
#define TCLK_HEADERCNT_TCLK_PREPARECNT_MASK	0x007f
#define	TCLK_HEADERCNT_TCLK_ZEROCNT_SET(val)	((val << 8) & TCLK_HEADERCNT_TCLK_ZEROCNT_MASK)
#define	TCLK_HEADERCNT_TCLK_PREPARECNT_SET(val)	(val & TCLK_HEADERCNT_TCLK_PREPARECNT_MASK)

#define TCLK_TRAILCNT		0x021C
#define THS_HEADERCNT		0x0220
#define	THS_HEADERCNT_THS_ZEROCNT_MASK		0x7f00
#define	THS_HEADERCNT_THS_PREPARECNT_MASK	0x007f
#define	THS_HEADERCNT_THS_ZEROCNT_SET(val)	((val << 8) & THS_HEADERCNT_THS_ZEROCNT_MASK)
#define	THS_HEADERCNT_THS_PREPARECNT_SET(val)	(val & THS_HEADERCNT_THS_PREPARECNT_MASK)

#define TWAKEUP			0x0224
#define TCLK_POSTCNT		0x0228
#define THS_TRAILCNT		0x022C
#define HSTXVREGCNT		0x0230
#define HSTXVREGEN              0x0234
#define HSTXVREGEN_D3M_HSTXVREGEN_MASK	0x0010
#define HSTXVREGEN_D2M_HSTXVREGEN_MASK  0x0008
#define HSTXVREGEN_D1M_HSTXVREGEN_MASK  0x0004
#define HSTXVREGEN_D0M_HSTXVREGEN_MASK  0x0002
#define HSTXVREGEN_CLM_HSTXVREGEN_MASK  0x0001

#define TXOPTIONCNTRL           0x0238
#define TXOPTIONCNTRL_CONTCLKMODE_MASK	0x0001

#define CSI_CONTROL             0x040C
#define CSI_CONTROL_CSI_MODE_MASK      0x8000
#define CSI_CONTROL_HTXTOEN_MASK         0x0400
#define CSI_CONTROL_TXHSMD_MASK        0x0080
#define CSI_CONTROL_NOL_MASK            0x0006
#define CSI_CONTROL_NOL_1_MASK          0
#define CSI_CONTROL_NOL_2_MASK          0x0002
#define CSI_CONTROL_NOL_3_MASK          0x0004
#define CSI_CONTROL_NOL_4_MASK          (0x0002|0x0004)
#define CSI_CONTROL_EOTDIS_MASK          0x0001

#define CSI_STATUS              0x0410
#define CSI_STATUS_S_WSYNC_MASK		0x0400
#define CSI_STATUS_S_TXACT_MASK		0x0200
#define CSI_STATUS_S_HLT_MASK		0x0001

#define CSI_INT			0x0414
#define CSI_INT_INTHLT_MASK		0x0008
#define CSI_INT_INTER_MASK		0x0004

#define CSI_INT_ENA             0x0418
#define CSI_INT_ENA_IENHLT_MASK		0x0008
#define CSI_INT_ENA_IENER_MASK		0x0004

#define CSI_ERR                 0x044C
#define CSI_ERR_INER_MASK               0x0200
#define CSI_ERR_WCER_MASK		0x0100
#define CSI_ERR_QUNK_MASK		0x0010
#define CSI_ERR_TXBRK_MASK		0x0002

#define CSI_ERR_INTENA          0x0450
#define CSI_ERR_HALT            0x0454
#define CSI_CONFW               0x0500
#define CSI_CONFW_MODE_MASK			0xe0000000
#define CSI_CONFW_MODE_SET_MASK			(0x80000000 | 0x20000000)
#define CSI_CONFW_MODE_CLEAR_MASK		(0x80000000 | 0x40000000)
#define CSI_CONFW_ADDRESS_MASK			0x1f000000
#define CSI_CONFW_ADDRESS_CSI_CONTROL_MASK	(0x01000000 | 0x02000000)
#define CSI_CONFW_ADDRESS_CSI_INT_ENA_MASK	(0x02000000 | 0x04000000)
#define CSI_CONFW_ADDRESS_CSI_ERR_INTENA_MASK	(0x10000000 | 0x04000000)
#define CSI_CONFW_ADDRESS_CSI_ERR_HALT_MASK	(0x10000000 | 0x04000000 | 0x01000000)
#define CSI_CONFW_DATA_MASK			0xffff

#define CSIRESET                0x0504
#define CSIRESET_RESET_CNF_MASK		0x0002
#define CSIRESET_RESET_MODULE_MASK	0x0001

#define CSI_INT_CLR             0x050C
#define CSI_INT_CLR_ICRER_MASK		0x0004

#define CSI_START               0x0518
#define CSI_START_STRT_MASK		0x0001

#endif
